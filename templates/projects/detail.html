{% extends 'post_login_base/base.html' %}

{% block title %}{{ project.title }}{% endblock title %}

{% block content %}
    <p>User: {{ project.user }}</p>
    <p>Title: {{ project.title }}</p>
    <p>Description: {{ project.description }}</p>
    <p>Progress: {{ project.progress }}</p>

    <ul class="list-group">
        {% for task in project.tasks.all %}
            <li class="list-group-item">
                <div class="form-check">
					<form action="{% url 'projects:mark_complete' task.slug task.date_created.year task.date_created.month task.date_created.day %}" method="post">
						{% csrf_token %}
						<input class="form-check-input" type="checkbox" id="task-{{ task.id }}" name="task-{{ task.id }}" {% if task.status == 'c' %}checked{% endif %} onclick="this.form.submit()">
						<label class="form-check-label" for="task-{{ task.id }}">{{ task.description }} ({{ task.date_due }})</label>
					</form>
                </div>
                <div>
                    <a href="{% url 'projects:edit_task' task.slug task.date_created.year task.date_created.month task.date_created.day %}" class="btn btn-primary">Edit</a>
                    <a href="{% url 'projects:delete_task' task.slug task.date_created.year task.date_created.month task.date_created.day %}" class="btn btn-danger">Delete</a>
                </div>
            </li>
        {% endfor %}
    </ul>

    <a href="{% url 'projects:create_task' project.slug project.date_created.year project.date_created.month project.date_created.day %}" class="btn btn-success">Add Tasks</a>
{% endblock content %}
